<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <style>
    th {
      text-align: center;
    }
    .no-border {
      border: 
    }
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
  </style>
  <title>Front-End</title>
</head>
<body>
  <table id="data-table" style="width:100%">
    <tr>
      <th rowspan="2">ID</th>
      <th rowspan="2">active</th>
      <th rowspan="2">name</th>
      <th rowspan="2">qualifications</th>
      <th rowspan="2">specialities</th>
      <th colspan="2">Phone</th>
      <th rowspan="2">Department</th>
      <th colspan="2">Organisation</th>
      <th colspan="5">address</th>
    </tr>
    <tr>
      <th>Country Code</th>
      <th>Number</th>
      <th>name</th>
      <th>location</th>
      <th>street address</th>
      <th>city</th>
      <th>state</th>
      <th>country</th>
      <th>zipcode</th>
    </tr>
  </table>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script>
    // const axios = require('axios');

    // Make a request for a user with a given ID
    axios.get('http://127.0.0.1:8000/providers')
      .then((response) => {
        // Find a <table> element with id="myTable":
        var table = document.getElementById("data-table");
        // console.log(response.data);
        response.data.map((dataRow, idx) => {
          // console.log(dataRow);
          var row = table.insertRow(idx + 2)
          var id = row.insertCell(0)
          id.innerHTML = dataRow.id
          var active = row.insertCell(1)
          active.innerHTML = dataRow.active
          var name = row.insertCell(2)
          name.innerHTML = dataRow.name
          var qualifications = row.insertCell(3)
          qualifications.innerHTML = dataRow.qualification.join(', ')
          var specialities = row.insertCell(4)
          specialities.innerHTML = dataRow.speciality.join(', ')
          var countryCode = row.insertCell(5)
          countryCode.innerHTML = dataRow.phone.country_code
          var number = row.insertCell(6)
          number.innerHTML = dataRow.phone.number
          var department = row.insertCell(7)
          department.innerHTML = dataRow.department
          var orgName = row.insertCell(8)
          orgName.innerHTML = dataRow.organisation.name
          var orgLocation = row.insertCell(9)
          orgLocation.innerHTML = dataRow.organisation.location
          var streetAddress = row.insertCell(10)
          streetAddress.innerHTML = dataRow.address.street_address
          var city = row.insertCell(11)
          city.innerHTML = dataRow.address.city
          var state = row.insertCell(12)
          state.innerHTML = dataRow.address.state
          var country = row.insertCell(13)
          country.innerHTML = dataRow.address.country
          var zipcode = row.insertCell(14)
          zipcode.innerHTML = dataRow.address.zip_code
        })
      })
      .catch(function (error) {
        // handle error
        console.log(error);
      })
      .then(function () {
        // always executed
      });
  </script>
  <!-- <script>
    fetch('http://127.0.0.1:8000/providers')
    .then(response => response.json())
    .then(data => console.log(data))
  </script> -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>